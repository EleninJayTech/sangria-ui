"use strict";var SangriaUI={jQueryVersionConfirm:function(a,b,c){var d=$.fn.jquery.split("."),e=!0;return parseInt(d[0])<a&&(e=!1),1<d.length&&"number"==typeof b&&parseInt(d[1])<b&&(e=!1),2<d.length&&"number"==typeof c&&parseInt(d[2])<c&&(e=!1),e},jQueryEventCheck:function(){"function"!=typeof $.fn.on&&($.fn.on=$.fn.bind,$.fn.off=$.fn.unbind)},UI_SELECT:{targetSelector:".sangria-select",select_no:0,construct:function(){var a=this;return 0!=$(a.targetSelector).length&&void(a.makeHtml(),a.setEvent())},makeHtml:function(){var a=this;$("select".concat(a.targetSelector)).each(function(){var b=$(this),c=b.attr("data-ss-name");if("undefined"!=typeof c)return!0;var d="s_select_".concat(a.select_no);b.attr("data-ss-name",d),a.select_no++;var e=b.attr("data-ss-id");e="undefined"==typeof e?"":e;var f=b.attr("data-ss-class");f="undefined"==typeof f?"":f;var g=b.attr("data-ss-close-mode");"click"==g&&(f+=" leave_close_off ");var h=b.attr("data-ss-arrow-type"),i=" font ";"image"==h&&(i=" image "),f+=i;var j="<div id=\"".concat(e,"\" class=\"ss_wrap ").concat(f," close\" data-ss-name=\"").concat(d,"\"></div>");b.wrap(j);var k="";k+="<a href=\"#\" class=\"ss_selected_value\" title=\"\" data-ss-name=\"".concat(d,"\"></a>"),k+="<ul class=\"ss_option_list\" data-ss-name=\"".concat(d,"\">"),b.find("option").each(function(){var a=$(this),b=a.val(),c=a.text();k+="<li data-ss-name=\"".concat(d,"\" data-ss-value=\"").concat(b,"\" title=\"").concat(c,"\">").concat(c,"</li>")}),k+="</ul>",b.parent(".ss_wrap").append(k),a.setSelectText(d)})},setSelectText:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']")),c=b.find("select"),d=b.find("select option:selected"),e=b.find("a.ss_selected_value"),f=d.text();e.text(f).attr("title",f);var g=c.attr("data-ss-arrow-type");if("undefined"==typeof g||"font"==g||""==g){e.append("<i class=\"su-icon icon-su-arrow-down\"></i>")}},setSelectProp:function(a,b){var c=this,d=$("select[data-ss-name='".concat(a,"']"));SangriaUI.jQueryVersionConfirm(1,6)?d.val(b).prop({selected:!0}).attr({selected:!0}):d.find("option[value='".concat(b,"']")).attr("selected","selected"),d.trigger("change"),c.itemListClose(a)},itemListOpen:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']"));b.removeClass("close").addClass("open"),b.find(".su-icon.icon-su-arrow-down").removeClass("icon-su-arrow-down").addClass("icon-su-arrow-up")},itemListClose:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']"));b.removeClass("open").addClass("close"),b.find(".su-icon.icon-su-arrow-up").removeClass("icon-su-arrow-up").addClass("icon-su-arrow-down")},itemListShowType:function(a){var b=$(".ss_wrap[data-ss-name='".concat(a,"']")),c=b.outerHeight(),d=b.find(".ss_option_list").outerHeight(),e=b.find(".ss_selected_value").offset().top,f=$(window).height(),g=$(window).scrollTop();e+c+d>f+g?b.removeClass("list_down").addClass("list_up"):b.removeClass("list_up").addClass("list_down")},setEvent:function(){var a=this,b=$(".ss_wrap"),c=b.find("a.ss_selected_value"),d=b.find(".ss_option_list > li");!1==b.is(".leave_close_off")&&(b.off("mouseleave"),b.on("mouseleave",function(){var b=$(this),c=b.attr("data-ss-name");a.itemListClose(c)})),d.off("click"),d.on("click",function(b){var c=$(this),d=c.attr("data-ss-name"),e=c.attr("data-ss-value"),f=$(".ss_wrap[data-ss-name='".concat(d,"']")),g=f.find("select option");return a.setSelectProp(d,e),a.setSelectText(d),g.trigger("click"),b.preventDefault(),!1}),c.off("click"),c.on("click",function(b){var c=$(this),d=c.attr("data-ss-name"),e=$(".ss_wrap[data-ss-name='".concat(d,"']")),f=e.find("select"),g=e.is(".close");return!0==g?a.itemListOpen(d):a.itemListClose(d),f.trigger("click"),b.preventDefault(),!1})}}};"function"==typeof jQuery&&jQuery(function(a){SangriaUI.jQueryEventCheck(),SangriaUI.UI_SELECT.construct();var b=SangriaUI.UI_SELECT.targetSelector;a(window).on("scroll",function(){a(b).each(function(){var b=a(this),c=b.attr("data-ss-name");SangriaUI.UI_SELECT.itemListShowType(c)})}),a(b).each(function(){var b=a(this),c=b.attr("data-ss-name");SangriaUI.UI_SELECT.itemListShowType(c)})});